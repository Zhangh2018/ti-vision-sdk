/* ========================================================================== */
/*                      CFG script for the Audio loopback sample                       */
/* ========================================================================== */

var mcaspDeviceName;
var mcaspDeviceId;
var i2cAudioDeviceId;
var i2cExpanderDeviceId;
var aicDeviceId;

function init (useJAMR)
{
    /* !!! NOTE - must also change USE_JAMR_AUDIO macro in !!!
     * !!! audioLoopbackSample_cfg.h.                      !!! */
    if (useJAMR == true)
    {
        Program.global.USE_JAMR = 1;
    }

    /* Determine which McASP instance to use */

    if (useJAMR == true)
    {
        xdc.print("# Using JAMR Audio..." );
        mcaspDeviceName = "/mcasp5";
        mcaspDeviceId = 5;
    }
    else
    {
        xdc.print("# Using CPU board Audio..." );
        mcaspDeviceName = "/mcasp2";
        mcaspDeviceId = 2;
    }

    /* Determine which I2C instances to use */
    var CurrentPlatform = java.lang.System.getenv("PLATFORM");
    if ((CurrentPlatform == "tda2xx-evm") || (CurrentPlatform == "dra7xx-evm"))
    {
        if (useJAMR == false)
        {
            i2cAudioDeviceId = 0;
            i2cExpanderDeviceId = 1;
        }
        else
        {
            i2cAudioDeviceId = 1;
        }
    }
    else if (CurrentPlatform == "tda2ex-evm")
    {
        if (useJAMR == false)
        {
            i2cAudioDeviceId = 0;
            i2cExpanderDeviceId = 4;
        }
        else
        {
            i2cAudioDeviceId = 4;
        }
    }
    else if ((CurrentPlatform == "ti814x-evm") || (CurrentPlatform == "ti811x-evm"))
    {
        if (useJAMR == false)
        {
            i2cAudioDeviceId = 1;
        }
        else
        {
            i2cAudioDeviceId = 0;
        }
    }

    /* Determine which AIC instance to use */
    if (useJAMR == false)
    {
        aicDeviceId = 0;
    }
    else
    {
        aicDeviceId = 1;
    }
}
