<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>NDK Stack Documentation: src/stack/raweth/raweth.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="tilogo.gif"></a></td>
  <td bgcolor="red"><img src="titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>src/stack/raweth/raweth.c File Reference</h1>The file implements the interface to send and receive Raw Ethernet traffic using NDK stack and NIMU architecture. <a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="raweth_8c.html#48128a56a536a06cf1f97c772c0928c3">RawEthTxPacket</a> (HANDLE hRawEthSock, char *pBuffer, int len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="raweth_8c.html#2299426d559d6ae0ccb5ddcf064ca9fd">RawEthTxPacketNC</a> (HANDLE hRawEthSock, char *pBuffer, int len, HANDLE hPkt)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="raweth_8c.html#f6e999af8ffebea556560e0f70e0510b">RawEthRxPacket</a> (PBM_Handle hPkt)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The file implements the interface to send and receive Raw Ethernet traffic using NDK stack and NIMU architecture. 
<p>
<dl class="user" compact><dt><b></b></dt><dd>NOTE: (C) Copyright 2008, Texas Instruments, Inc.</dd></dl>
<dl class="user" compact><dt><b></b></dt><dd></dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="f6e999af8ffebea556560e0f70e0510b"></a><!-- doxytag: member="raweth.c::RawEthRxPacket" ref="f6e999af8ffebea556560e0f70e0510b" args="(PBM_Handle hPkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RawEthRxPacket           </td>
          <td>(</td>
          <td class="paramtype">PBM_Handle&nbsp;</td>
          <td class="paramname"> <em>hPkt</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Description</b> <br>
 This routine is the API interface routine which is called by the NIMU layer when the ethernet type doesnt match any of the well know standard ethernet types. This function checks if a raw ethernet socket object exists for the ethernet type in the packet and if so enqueus in the socket buffer for the application to receive.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hPkt</em>&nbsp;</td><td>Handle to the packet which is to be passed up the NDK stack.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>- Error </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>- Success </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="48128a56a536a06cf1f97c772c0928c3"></a><!-- doxytag: member="raweth.c::RawEthTxPacket" ref="48128a56a536a06cf1f97c772c0928c3" args="(HANDLE hRawEthSock, char *pBuffer, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RawEthTxPacket           </td>
          <td>(</td>
          <td class="paramtype">HANDLE&nbsp;</td>
          <td class="paramname"> <em>hRawEthSock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>pBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Description</b> <br>
 The function is the interface routine which is called to send a packet via a raw ethernet socket object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hRawEthSock</em>&nbsp;</td><td>Handle to the Raw ethernet socket. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pBuffer</em>&nbsp;</td><td>Handle to the data buffer that needs to be sent </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>len</em>&nbsp;</td><td>length of the data</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>- Successfully sent out the packet. ENOBUFS - Error allocating memory for the packet. Packet not sent out. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="2299426d559d6ae0ccb5ddcf064ca9fd"></a><!-- doxytag: member="raweth.c::RawEthTxPacketNC" ref="2299426d559d6ae0ccb5ddcf064ca9fd" args="(HANDLE hRawEthSock, char *pBuffer, int len, HANDLE hPkt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RawEthTxPacketNC           </td>
          <td>(</td>
          <td class="paramtype">HANDLE&nbsp;</td>
          <td class="paramname"> <em>hRawEthSock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>pBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HANDLE&nbsp;</td>
          <td class="paramname"> <em>hPkt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Description</b> <br>
 The function is the interface routine which is called to send a packet without any copy via a raw ethernet socket object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hRawEthSock</em>&nbsp;</td><td>Handle to the Raw ethernet socket. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pBuffer</em>&nbsp;</td><td>Handle to the data buffer that needs to be sent </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>len</em>&nbsp;</td><td>length of the data </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hPkt</em>&nbsp;</td><td>Handle to the packet that needs to be sent</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>- Successfully sent out the packet. EINVAL - Bad Packet / Buffer handles, packet not sent out. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr size="1"><small>
Copyright  2009, Texas Instruments Incorporated</small>
</body>
</html>
