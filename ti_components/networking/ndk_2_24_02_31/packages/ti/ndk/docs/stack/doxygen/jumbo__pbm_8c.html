<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>NDK Stack Documentation: src/os/jumbo_pbm.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="tilogo.gif"></a></td>
  <td bgcolor="red"><img src="titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>src/os/jumbo_pbm.c File Reference</h1>Jumbo Packet Buffer Manager. Ths file has functions which handle dynamic memory management (heap allocations) for packet buffer sizes greater than 3K. These functions are typically called for buffer management of jumbo frames greater than 3K size. <a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_j_u_m_b_o___m_e_m_o_r_y_b_l_o_c_k.html">JUMBO_MEMORYBLOCK</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This structure defines the Jumbo memory block structure.  <a href="struct_j_u_m_b_o___m_e_m_o_r_y_b_l_o_c_k.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_j_u_m_b_o___p_i_t_e_n_t_r_y.html">JUMBO_PITENTRY</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This structure defines the Page Information entry.  <a href="struct_j_u_m_b_o___p_i_t_e_n_t_r_y.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jumbo__pbm_8c.html#6d7f21e83565143c7665fd308354b8b7">_jumbo_mmInit</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jumbo__pbm_8c.html#adaaf8b7d0984d8f1097b492372014cc">jumbo_mmAlloc</a> (uint Size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jumbo__pbm_8c.html#6a8acd24d6914574405fa04a3cb597c1">jumbo_mmFree</a> (void *p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="jumbo__pbm_8c.html#03f10441a64b857163ce2dc154d0e608">_jumbo_mmCheck</a> (uint CallMode, int(*pPrn)(const char *,...))</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Jumbo Packet Buffer Manager. Ths file has functions which handle dynamic memory management (heap allocations) for packet buffer sizes greater than 3K. These functions are typically called for buffer management of jumbo frames greater than 3K size. 
<p>
<dl class="user" compact><dt><b></b></dt><dd>NOTE: (C) Copyright 2008, Texas Instruments, Inc.</dd></dl>
<dl class="user" compact><dt><b></b></dt><dd></dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="03f10441a64b857163ce2dc154d0e608"></a><!-- doxytag: member="jumbo_pbm.c::_jumbo_mmCheck" ref="03f10441a64b857163ce2dc154d0e608" args="(uint CallMode, int(*pPrn)(const char *,...))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _jumbo_mmCheck           </td>
          <td>(</td>
          <td class="paramtype">uint&nbsp;</td>
          <td class="paramname"> <em>CallMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(const char *,...)&nbsp;</td>
          <td class="paramname"> <em>pPrn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Description</b> <br>
 This function iterates through the PIT table and dumps the current memory usage stats according to the arguments specified.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>CallMode</em>&nbsp;</td><td>This argument specifies the type of stats / operation that needs to be performed by this function. The 3 supported call modes are: MMCHECK_MAP : Map out allocated memory, but don't dump ID's MMCHECK_DUMP : Dump allocated block ID's MMCHECK_SHUTDOWN : Dump allocated block's &amp; free</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pPrn</em>&nbsp;</td><td>Callback function pointer to be notified.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>None.</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="6d7f21e83565143c7665fd308354b8b7"></a><!-- doxytag: member="jumbo_pbm.c::_jumbo_mmInit" ref="6d7f21e83565143c7665fd308354b8b7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _jumbo_mmInit           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Description</b> <br>
 This function initializes the jumbo frame memory system.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>None</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Always</em>&nbsp;</td><td>returns 1 to indicate success. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="adaaf8b7d0984d8f1097b492372014cc"></a><!-- doxytag: member="jumbo_pbm.c::jumbo_mmAlloc" ref="adaaf8b7d0984d8f1097b492372014cc" args="(uint Size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* jumbo_mmAlloc           </td>
          <td>(</td>
          <td class="paramtype">uint&nbsp;</td>
          <td class="paramname"> <em>Size</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Description</b> <br>
 This function allocates the required memory size from jumbo memory area.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>Size</em>&nbsp;</td><td>Page Index in the Page Info Table.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Returns</em>&nbsp;</td><td>the pointer to allocated memory block. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="6a8acd24d6914574405fa04a3cb597c1"></a><!-- doxytag: member="jumbo_pbm.c::jumbo_mmFree" ref="6a8acd24d6914574405fa04a3cb597c1" args="(void *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jumbo_mmFree           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Description</b> <br>
 This function frees the memory pointed to by the arguments to it.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>p</em>&nbsp;</td><td>Pointer to the memory block that is to be freed.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>None.</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

</div>
</div><p>
<hr size="1"><small>
Copyright  2009, Texas Instruments Incorporated</small>
</body>
</html>
