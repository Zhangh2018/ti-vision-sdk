<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>NSP_GMACSW: GMACSW Driver Top-level APIs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="../../tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="../../titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NSP_GMACSW
   &#160;<span id="projectnumber">4.11.00.00</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Index&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">GMACSW Driver Top-level APIs</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Programming interfaces for GMACSW hardware device driver. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac26ec9d08add5f20cf219b6971dcb8a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gmacsw_8h.html#ae272304357ab0447390e3da5f7469e6d">GMACSW_DeviceHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GMACSW__APIS.html#gac26ec9d08add5f20cf219b6971dcb8a7">GMACSW_open</a> (<a class="el" href="group__GMACSW__CONFIG__DEFINTIONS.html#ga4ae3b6ca7b33fb5779fca455ca4468d7">GMACSW_Config</a> *pGMACSWConfig)</td></tr>
<tr class="separator:gac26ec9d08add5f20cf219b6971dcb8a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae13ebef74b48b17bc2850359c042fbf6"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GMACSW__APIS.html#gae13ebef74b48b17bc2850359c042fbf6">GMACSW_close</a> (<a class="el" href="gmacsw_8h.html#ae272304357ab0447390e3da5f7469e6d">GMACSW_DeviceHandle</a> hGMACSW)</td></tr>
<tr class="separator:gae13ebef74b48b17bc2850359c042fbf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79b54a7df2ab5afcfa58e049bb27a15a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GMACSW__APIS.html#ga79b54a7df2ab5afcfa58e049bb27a15a">GMACSW_ioctl</a> (<a class="el" href="gmacsw_8h.html#ae272304357ab0447390e3da5f7469e6d">GMACSW_DeviceHandle</a> hGMACSW, uint32_t cmd, void *param, uint32_t size)</td></tr>
<tr class="separator:ga79b54a7df2ab5afcfa58e049bb27a15a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3868103b4fbe8bfaacdb2040eb4b0319"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GMACSW__APIS.html#ga3868103b4fbe8bfaacdb2040eb4b0319">GMACSW_periodicTick</a> (<a class="el" href="gmacsw_8h.html#ae272304357ab0447390e3da5f7469e6d">GMACSW_DeviceHandle</a> hGMACSW)</td></tr>
<tr class="separator:ga3868103b4fbe8bfaacdb2040eb4b0319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga654a5fc3c608d96a17d3efb4964460c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GMACSW__APIS.html#ga654a5fc3c608d96a17d3efb4964460c4">GMACSW_getLinkStatus</a> (<a class="el" href="gmacsw_8h.html#ae272304357ab0447390e3da5f7469e6d">GMACSW_DeviceHandle</a> hGMACSW, uint32_t *linkState, uint32_t *linkedInterface)</td></tr>
<tr class="separator:ga654a5fc3c608d96a17d3efb4964460c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gac26ec9d08add5f20cf219b6971dcb8a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gmacsw_8h.html#ae272304357ab0447390e3da5f7469e6d">GMACSW_DeviceHandle</a> GMACSW_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__GMACSW__CONFIG__DEFINTIONS.html#ga4ae3b6ca7b33fb5779fca455ca4468d7">GMACSW_Config</a> *&#160;</td>
          <td class="paramname"><em>pGMACSWConfig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><b>Description</b> <br />
 Opens the GMACSW peripheral at the given physical index and initializes it to an embryonic state.</p>
<p>This <a class="el" href="group__GMACSW__APIS.html#gac26ec9d08add5f20cf219b6971dcb8a7">GMACSW_open()</a> API keeps a reference count that increments for every call and which is decremented for every GMACSW_close call. For the first call to this functions, when the reference count is zero, the application must supply a valid configuration structure or the open call will fail. When the reference count is non-zero, the configuration structure parameter is not required and can be NULL.</p>
<p>Data from the config structure is copied into the device's internal instance structure so the structure may be discarded after <a class="el" href="group__GMACSW__APIS.html#gac26ec9d08add5f20cf219b6971dcb8a7">GMACSW_open()</a> returns. In order to change an item in the configuration, the GMACSW device must be closed and then re-opened with the new configuration. A driver reset is achieved by calling <a class="el" href="group__GMACSW__APIS.html#gae13ebef74b48b17bc2850359c042fbf6">GMACSW_close()</a> until the reference count is zero, followed by <a class="el" href="group__GMACSW__APIS.html#gac26ec9d08add5f20cf219b6971dcb8a7">GMACSW_open()</a>.</p>
<p>An GMACSW device handle is returned to the caller. This handle must be saved by the caller and then passed to other GMACSW device functions.</p>
<p><b> Pre Condition </b> <br />
 None</p>
<p><b> Post Condition </b> <br />
 Opens the GMACSW peripheral at the given physical index and initializes it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pGMACSWConfig</td><td>Pointer to configuration structure of type GMACSW_Config</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"></td><td>n Non-NULL pointer to a GMACSW_DeviceHandle instance <br />
 If open call fails, the return value is NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae13ebef74b48b17bc2850359c042fbf6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t GMACSW_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gmacsw_8h.html#ae272304357ab0447390e3da5f7469e6d">GMACSW_DeviceHandle</a>&#160;</td>
          <td class="paramname"><em>hGMACSW</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><b>Description</b> <br />
 Close the GMACSW peripheral indicated by the supplied instance handle. Calling this API will decrement the outstanding reference counter for the driver. If the reference count becomes zero, the GMACSW device will shutdown both send and receive operations, and free all pending transmit and receive packets for all channels.</p>
<p>The function returns zero on success, or an error code on failure.</p>
<p><b> Pre Condition </b> <br />
 GMACSW_open function must be called and have returned a valid handle before calling this API.</p>
<p><b> Post Condition </b> <br />
 The GMACSW device will shutdown both send and receive operations, and free all pending transmit and receive packets.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hGMACSW</td><td>Handle to opened the GMACSW device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"></td><td>n GMACSW_SUCCESS (0) - close operation completed with no error <br />
 Any other returned value represents an error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga79b54a7df2ab5afcfa58e049bb27a15a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t GMACSW_ioctl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gmacsw_8h.html#ae272304357ab0447390e3da5f7469e6d">GMACSW_DeviceHandle</a>&#160;</td>
          <td class="paramname"><em>hGMACSW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><b>Description</b> <br />
 Call the hardware driver to perform special commands. See <a class="el" href="group__GMACSW__IOCTLS.html">GMACSW IOCTL Definitions</a> here for valid command values and related definitions.</p>
<p>The function returns zero on success, or an error code on failure.</p>
<p><b> Pre Condition </b> <br />
 GMACSW_open function must be called and have returned a valid handle before calling this API.</p>
<p><b> Post Condition </b> <br />
 The selected command is executed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hGMACSW</td><td>Handle to opened GMACSW_DeviceHandle device handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>Ioctl command value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">param</td><td>Pointer to the ioctl buffer, which contains parameters, structures, etc. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Size of the ioctl buffer pointed to by the param pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"></td><td>n GMACSW_SUCCESS (0) - IOCTL completed with no error <br />
 Any other returned value represents an error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga3868103b4fbe8bfaacdb2040eb4b0319"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GMACSW_periodicTick </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gmacsw_8h.html#ae272304357ab0447390e3da5f7469e6d">GMACSW_DeviceHandle</a>&#160;</td>
          <td class="paramname"><em>hGMACSW</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><b>Description</b> <br />
 The driver periodic tick function, which should be scheduled to be called by the OS, stack, or application on a periodic basis (currently recommended period is 100ms).</p>
<p>Possible error code include: GMACSW_INVALID_PARAM - A calling parameter is invalid</p>
<p><b> Pre Condition </b> <br />
 GMACSW_open function must be called before calling this API.</p>
<p><b> Post Condition </b> <br />
 The GMACSW device will shutdown both send and receive operations, and free all pending transmit and receive packets.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hGMACSW</td><td>Handle to opened the GMACSW device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"></td><td>n None </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga654a5fc3c608d96a17d3efb4964460c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GMACSW_getLinkStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gmacsw_8h.html#ae272304357ab0447390e3da5f7469e6d">GMACSW_DeviceHandle</a>&#160;</td>
          <td class="paramname"><em>hGMACSW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>linkState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>linkedInterface</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><b>Description</b> <br />
 Query the GMACSW driver to determine the current PHY link status. The driver is written assuming that only one port will be linked at a time</p>
<p><b> Pre Condition </b> <br />
 GMACSW_open function must be called before calling this API.</p>
<p><b> Post Condition </b> <br />
 None</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hGMACSW</td><td>Handle to opened the GMACSW device. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">linkState</td><td>Integer returned representing the link state (speed and duplex) (0-7). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">linkedInterface</td><td>Integer returned representing the interface number currently linked (0 or 1).</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"></td><td>n None </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jul 21 2014 13:48:10 for NSP_GMACSW by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
<br>
Copyright 2014, Texas Instruments Incorporated
</small></address>
</body>
</html>
